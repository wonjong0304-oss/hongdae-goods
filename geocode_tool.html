<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì£¼ì†Œ â†’ ì¢Œí‘œ ë³€í™˜</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, sans-serif; background: #1a1a2e; color: #fff; padding: 20px; min-height: 100vh; }
        h1 { margin-bottom: 20px; }
        .status { padding: 15px; background: #2a2a4e; border-radius: 10px; margin-bottom: 20px; }
        .progress { color: #007aff; font-weight: bold; }
        #results { background: #0a0a1a; border-radius: 10px; padding: 15px; font-family: monospace; font-size: 12px; white-space: pre-wrap; max-height: 70vh; overflow-y: auto; }
        .btn { padding: 12px 24px; background: #007aff; border: none; border-radius: 8px; color: #fff; font-size: 16px; font-weight: bold; cursor: pointer; margin-right: 10px; margin-bottom: 10px; }
        .btn:disabled { background: #666; }
        .btn.copy { background: #30d158; }
        .error { color: #ff453a; }
        .success { color: #30d158; }
    </style>
</head>
<body>
    <h1>ğŸ—º ì£¼ì†Œ â†’ ì¢Œí‘œ ë³€í™˜</h1>
    
    <div class="status">
        <p>ìƒíƒœ: <span id="statusText" class="progress">ëŒ€ê¸° ì¤‘</span></p>
        <p>ì§„í–‰: <span id="progressText">0 / 25</span></p>
    </div>
    
    <button class="btn" id="startBtn" onclick="startConversion()">ğŸš€ ë³€í™˜ ì‹œì‘</button>
    <button class="btn copy" id="copyBtn" onclick="copyResults()" style="display:none;">ğŸ“‹ ê²°ê³¼ ë³µì‚¬</button>
    
    <div id="results">ë³€í™˜ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤...</div>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDOht0k-HMZ1V2kLPMj3Ho627PGoNgWkAg&libraries=places&callback=initGeocoder" async defer></script>
<script>
// PDF ê¸°ë°˜ ì •í™•í•œ ì£¼ì†Œ ëª©ë¡
const shops = [
    {id:1, name:"ì• ë‹ˆë©”ì´íŠ¸ í™ëŒ€ì ", address:"ì„œìš¸ ë§ˆí¬êµ¬ ì–‘í™”ë¡œ 188 AKí”Œë¼ì 5ì¸µ"},
    {id:2, name:"ì• ë‹ˆì„¸ì¹´ì´ í™ëŒ€ì ", address:"ì„œìš¸ ë§ˆí¬êµ¬ ì–´ìš¸ë§ˆë‹¹ë¡œ 155-1 ì™„ë¹Œë”© 2ì¸µ"},
    {id:3, name:"ì•ˆì„œë‹¹", address:"ì„œìš¸ ë§ˆí¬êµ¬ ì‹ ì´Œë¡œ6ê¸¸ 17 ì§€í•˜1ì¸µ"},
    {id:4, name:"í”¼ê·œì–´í”„ë ˆì†Œ FPì ", address:"ì„œìš¸ ë§ˆí¬êµ¬ ì™€ìš°ì‚°ë¡œ29ê¸¸ 48-11"},
    {id:5, name:"JSìŠ¤í† ì–´", address:"ì„œìš¸ ë§ˆí¬êµ¬ ì™€ìš°ì‚°ë¡œ29ê¸¸ 48-24 1ì¸µ"},
    {id:6, name:"ì‹œë¡œìƒì ", address:"ì„œìš¸ ë§ˆí¬êµ¬ ì™€ìš°ì‚°ë¡œ29ê¸¸ 14-12 ì§€í•˜1ì¸µ"},
    {id:7, name:"ëª¨ì™€ì¦", address:"ì„œìš¸ ë§ˆí¬êµ¬ ì–‘í™”ë¡œ18ì•ˆê¸¸ 12 ì§€ì¸µ"},
    {id:8, name:"í”¼ê·œì–´í”„ë Œì¦ˆ", address:"ì„œìš¸ ë§ˆí¬êµ¬ ì–‘í™”ë¡œ18ì•ˆê¸¸ 8 ì§€ì¸µ"},
    {id:9, name:"ì¼€ì´ë¶ìŠ¤", address:"ì„œìš¸ ë§ˆí¬êµ¬ ì–‘í™”ë¡œ 161 EXITí™ëŒ€ ì§€í•˜1ì¸µ"},
    {id:10, name:"ë”ì¿  í™ëŒ€ì…êµ¬ì ", address:"ì„œìš¸ ë§ˆí¬êµ¬ í™ìµë¡œ6ê¸¸ 38 ì§€í•˜1ì¸µ"},
    {id:11, name:"ì• ë‹ˆí”ŒëŸ¬ìŠ¤ í•©ì •", address:"ì„œìš¸ ë§ˆí¬êµ¬ ì–‘í™”ë¡œ 45 ë©”ì„¸ë‚˜í´ë¦¬ìŠ¤ ì§€í•˜2ì¸µ"},
    {id:12, name:"ì›í”¼ê·œì–´", address:"ì„œìš¸ ë§ˆí¬êµ¬ í™ìµë¡œ6ê¸¸ 14 2ì¸µ"},
    {id:13, name:"ì•„ì´ë…¸ëª¨ë…¸", address:"ì„œìš¸ ë§ˆí¬êµ¬ ì‹ ì´Œë¡œ4ê¸¸ 22-8 1ì¸µ"},
    {id:14, name:"ë‘ë‹ˆë¶€", address:"ì„œìš¸ ë§ˆí¬êµ¬ ì‹ ì´Œë¡œ4ê¸¸ 14 ì§€í•˜1ì¸µ"},
    {id:15, name:"ë¸Œë¼ë”êµ¿ì¦ˆ", address:"ì„œìš¸ ë§ˆí¬êµ¬ ì‹ ì´Œë¡œ6ê¸¸ 24 2ì¸µ"},
    {id:16, name:"ìµœì• êµ¿ì¦ˆ í™ëŒ€ì ", address:"ì„œìš¸ ë§ˆí¬êµ¬ ì‹ ì´Œë¡œ4ê¸¸ 5-21 ì§€í•˜1ì¸µ"},
    {id:17, name:"í˜¸ì—ë§ˆì¼“", address:"ì„œìš¸ ë§ˆí¬êµ¬ ì™€ìš°ì‚°ë¡œ29ê¸¸ 48-14"},
    {id:18, name:"ê¼¬ê¼¬êµ¿ì¦ˆ", address:"ì„œìš¸ ë§ˆí¬êµ¬ ì™€ìš°ì‚°ë¡œ27ê¸¸ 68 3ì¸µ"},
    {id:19, name:"ì˜¤ëª¨ì°¨ëœë“œ", address:"ì„œìš¸ ë§ˆí¬êµ¬ í™ìµë¡œ5ê¸¸ 36 2ì¸µ"},
    {id:20, name:"ì˜¤ëª¨ì°¨ëœë“œ 2í˜¸ì ", address:"ì„œìš¸ ë§ˆí¬êµ¬ ì–‘í™”ë¡œ ì§€í•˜ 160 í™ëŒ€ì…êµ¬ì—­"},
    {id:21, name:"í”¼ê·œì–´í”„ë ˆì†Œ í™ëŒ€ì ", address:"ì„œìš¸ ë§ˆí¬êµ¬ ì”ë‹¤ë¦¬ë¡œ6ê¸¸ 25 2ì¸µ"},
    {id:22, name:"í—¬ë¡œìˆ˜ë¯¸ì½”", address:"ì„œìš¸ ë§ˆí¬êµ¬ ì›”ë“œì»µë¶ë¡œ1ê¸¸ 26-13 1ì¸µ"},
    {id:23, name:"ë¼ì‹ ë°˜ ì„œìš¸ë³¸ì ", address:"ì„œìš¸ ë§ˆí¬êµ¬ ì–‘í™”ë¡œ 178-5 ì§€í•˜1ì¸µ"},
    {id:24, name:"ìŠ¤í˜ì´ìŠ¤ ìš°ë¼ë¼", address:"ì„œìš¸ ë§ˆí¬êµ¬ ì–‘í™”ë¡œ 166 ë¯¸ë˜í”„ë¼ì ì§€í•˜1ì¸µ"},
    {id:25, name:"ì• ë‹ˆí”Œë¼ì", address:"ì„œìš¸ ë§ˆí¬êµ¬ ì™€ìš°ì‚°ë¡œ29ë¼ê¸¸ 7 1ì¸µ"}
];

let geocoder;
let results = [];

function initGeocoder() {
    geocoder = new google.maps.Geocoder();
    document.getElementById('statusText').textContent = 'ì¤€ë¹„ ì™„ë£Œ!';
}

async function startConversion() {
    document.getElementById('startBtn').disabled = true;
    document.getElementById('statusText').textContent = 'ë³€í™˜ ì¤‘...';
    results = [];
    
    for (let i = 0; i < shops.length; i++) {
        const shop = shops[i];
        document.getElementById('progressText').textContent = `${i + 1} / ${shops.length}`;
        
        try {
            const coords = await geocodeAddress(shop.address);
            results.push({
                ...shop,
                lat: coords.lat,
                lng: coords.lng,
                status: 'success'
            });
            updateResults();
        } catch (error) {
            results.push({
                ...shop,
                lat: null,
                lng: null,
                status: 'error',
                error: error.message
            });
            updateResults();
        }
        
        // API ì†ë„ ì œí•œ ë°©ì§€
        await new Promise(resolve => setTimeout(resolve, 300));
    }
    
    document.getElementById('statusText').textContent = 'âœ… ì™„ë£Œ!';
    document.getElementById('copyBtn').style.display = 'inline-block';
    generateFinalCode();
}

function geocodeAddress(address) {
    return new Promise((resolve, reject) => {
        geocoder.geocode({ address: address }, (results, status) => {
            if (status === 'OK' && results[0]) {
                resolve({
                    lat: results[0].geometry.location.lat(),
                    lng: results[0].geometry.location.lng()
                });
            } else {
                reject(new Error(status));
            }
        });
    });
}

function updateResults() {
    let html = '';
    results.forEach(r => {
        if (r.status === 'success') {
            html += `<span class="success">âœ… ${r.id}. ${r.name}</span>\n   ${r.lat.toFixed(5)}, ${r.lng.toFixed(5)}\n\n`;
        } else {
            html += `<span class="error">âŒ ${r.id}. ${r.name}</span>\n   ì—ëŸ¬: ${r.error}\n\n`;
        }
    });
    document.getElementById('results').innerHTML = html;
}

function generateFinalCode() {
    let code = '\n\n========== ğŸ“‹ ë³µì‚¬í•  ì½”ë“œ ==========\n\n';
    code += 'const shops = [\n';
    
    results.forEach(r => {
        if (r.status === 'success') {
            code += `    {id:${r.id},name:"${r.name}",lat:${r.lat.toFixed(5)},lng:${r.lng.toFixed(5)}},\n`;
        }
    });
    
    code += '];\n';
    code += '\n====================================\n';
    
    document.getElementById('results').innerHTML += code;
}

function copyResults() {
    const text = document.getElementById('results').innerText;
    navigator.clipboard.writeText(text);
    alert('ğŸ“‹ ë³µì‚¬ë¨! Claudeì—ê²Œ ë¶™ì—¬ë„£ê¸° í•´ì¤˜');
}
</script>
</body>
</html>
